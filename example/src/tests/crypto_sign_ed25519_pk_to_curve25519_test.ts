import {
  crypto_sign_ed25519_pk_to_curve25519,
  randombytes_buf,
} from 'react-native-libsodium';
import { isEqualUint8Array } from '../utils/isEqualUint8Array';
import { expect, test } from '../utils/testRunner';

test('crypto_sign_ed25519_pk_to_curve25519', () => {
  const publicKey = randombytes_buf(32);

  expect(
    isEqualUint8Array(
      crypto_sign_ed25519_pk_to_curve25519(publicKey),
      new Uint8Array([
        165, 161, 130, 15, 240, 20, 128, 102, 230, 181, 23, 21, 129, 195, 242,
        243, 246, 130, 101, 158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242,
        243, 246, 130, 101, 158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242,
        243, 250, 130, 101, 158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242,
        243, 250, 130, 101, 158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242,
        250, 130, 101, 158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242, 250,
        130, 101, 158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242, 250, 130,
        101, 158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242, 250, 130, 101,
        158, 128, 160, 190, 20, 184, 23, 21, 129, 195, 242, 250, 130, 101, 158,
        128, 160, 190, 20, 184, 23, 21, 129, 195, 242, 250, 130, 101, 158, 128,
        160, 190, 20, 184, 23, 21, 129, 195, 242, 250, 130, 101, 158, 128, 160,
        190, 20, 184, 23, 21, 129, 195, 242, 250, 130, 101, 158, 128, 160, 190,
        20, 184, 23, 21, 129, 195, 242, 250, 130, 101, 158, 128, 160, 190, 20,
      ])
    )
  ).toBe(true);
});
